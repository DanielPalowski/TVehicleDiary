@using VehicleDiary.Web.ViewModels
@model DBCarUsageOverViewVM

<div class="container py-4">
    <!-- Navigation Links -->
    <div class="d-flex gap-2 mb-4">
        <a asp-controller="Petrol" asp-action="Petrol" asp-route-vehicleIDRoute="@Model.VehicleId"
           class="btn btn-outline-primary">
            <i class="fas fa-gas-pump me-2"></i>Petrol
        </a>
        <a asp-controller="Vignette" asp-action="Vignette" asp-route-vehicleIDRoute="@Model.VehicleId"
           class="btn btn-outline-primary">
            <i class="fas fa-road me-2"></i>Vignette
        </a>
        <a asp-controller="Oil" asp-action="Oil" asp-route-vehicleIDRoute="@Model.VehicleId"
           class="btn btn-outline-primary">
            <i class="fas fa-oil-can me-2"></i>Oil
        </a>
        <a asp-controller="CarUsage" asp-action="Tires" asp-route-vehicleIDRoute="@Model.VehicleId"
           class="btn btn-outline-primary">
            <i class="fas fa-tire me-2"></i>Tires
        </a>
    </div>

    <!-- Latest Vignette Section -->
    <h2 class="mb-4">Latest Car Usage Data</h2>

    <div class="card shadow-sm mb-4">
        <div class="card-header bg-light">
            <h3 class="card-title mb-0">Latest Vignette</h3>
        </div>
        <div class="card-body">
            @if (Model.LatestVignettePrice != null)
            {
                <div class="row">
                    <div class="col-md-6">
                        <dl class="row mb-0">
                            <dt class="col-sm-5">Valid From</dt>
                            <dd class="col-sm-7">@Model.LatestVignetteValidFrom?.ToString("d MMM yyyy")</dd>

                            <dt class="col-sm-5">Valid To</dt>
                            <dd class="col-sm-7">@Model.LatestVignetteValidTo?.ToString("d MMM yyyy")</dd>
                        </dl>
                    </div>
                    <div class="col-md-6">
                        <dl class="row mb-0">
                            <dt class="col-sm-5">Price</dt>
                            <dd class="col-sm-7 text-success fw-bold">€@Model.LatestVignettePrice</dd>

                            <dt class="col-sm-5">Country</dt>
                            <dd class="col-sm-7">@Model.LatestVignetteCountry</dd>
                        </dl>
                    </div>
                </div>
            }
            else
            {
                <div class="alert alert-info mb-0">
                    <i class="fas fa-info-circle me-2"></i>No vignette records available
                </div>
            }
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}